!function(){"use strict";function e(e){var n=$("a[name='"+e+"']");$("html,body").animate({scrollTop:n.offset().top},1500)}angular.module("app",["rzModule","highcharts-ng","ngAnimate"]).run(function(){Highcharts.setOptions({colors:["#009CDE","#50B432","#ED561B","#DDDF00","#24CBE5","#64E572","#FF9655","#FFF263","#6AF9C4"],lang:{decimalPoint:",",thousandsSep:"."}})}),$("#link-to-content").click(function(){e("content-overview")})}(),function(){"use strict";angular.module("app").controller("bausparrechnerController",["$scope","$rootScope","chartConfig","bausparCalculator",function(e,n,t,a){var i=this;i.inputs={principal:4e4,saving:5,interestsave:.6,interestdebt:1.5,termsave:8,repay:6,bonus:{id:2},marriage:{id:1},income:3e4,initialfee:1,initialpay:0,paypercent:100},i.calcAbsolute=function(e,n,t){return n/t*e},$(".collapse").on("shown.bs.collapse",function(){$(this).prev().find("i").addClass("fa-angle-down"),n.$broadcast("rzSliderForceRender")}),$(".collapse").on("hidden.bs.collapse",function(){$(this).prev().find("i").removeClass("fa-angle-down")}),i.sliderTranslate=function(e){return""},e.$watchCollection("vm.inputs",function(){var n={principal:i.inputs.principal,saving:i.inputs.saving/1e3*i.inputs.principal,interestsave:i.inputs.interestsave,interestdebt:i.inputs.interestdebt,termsave:i.inputs.termsave,repay:i.inputs.repay/1e3*i.inputs.principal,bonus:1===i.inputs.bonus.id,marriage:2===i.inputs.marriage.id,income:i.inputs.income,initialfee:i.inputs.initialfee/100*i.inputs.principal,initialpay:i.inputs.initialpay,paypercent:i.inputs.paypercent};i.result=a.homesave(n);var t=_.filter(i.result._2.body,function(e){return e[7]===!0&&e[9]===!0}),r=_.map(t,function(e){return e[1]}),o=_.map(t,function(e){return e[2]}),s=_.map(t,function(e){return e[3]});e.chartConfig_1.series[2].data=r,e.chartConfig_1.series[1].data=o,e.chartConfig_1.series[0].data=s;var l=_.filter(i.result._2.body2,function(e){return e[7]===!0&&e[9]===!0}),u=_.map(l,function(e){return Math.abs(e[5])}),c=0,p=_.map(l,function(e){return c+=e[2]+e[3]});_.map(l,function(e){return Math.abs(e[3])});e.chartConfig_2.series[0].data=p,e.chartConfig_2.series[1].data=u});var r={title:{text:"Guthabenentwicklung Ansparphase"},legend:{enabled:!1},options:{plotOptions:{column:{stacking:"normal",pointStart:1}},tooltip:{headerFormat:'<span style="font-size: 14px">{point.key}. Jahr</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: {point.y:.2f} €<br/>',shared:!0}},xAxis:{minTickInterval:"1",tickInterval:"1",title:{text:"Jahr"}},yAxis:{title:{text:"Bausparguthaben"}},series:[{name:"Zinsertrag im laufenden Jahr",data:[1,4],color:"#F38200"},{name:"Sparbeiträge im laufenden Jahr",data:[1,4],color:"#50B432"},{name:"Guthaben Jahresbeginn",data:[1,4],color:"#009CDE"}]};e.chartConfig_1=angular.merge(r,t.verticalBar);var o={title:{text:"Restschuldentwicklung Rückzahlungsphase"},legend:{enabled:!1},options:{plotOptions:{column:{stacking:"normal",pointStart:1}},tooltip:{headerFormat:'<span style="font-size: 14px">{point.key}. Jahr</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: {point.y:.2f} €<br/>',shared:!0}},xAxis:{minTickInterval:"1",tickInterval:"1",title:{text:"Jahr"}},yAxis:{title:{text:"Restschuld"}},series:[{name:"Bisherige Tilgung",data:[1,4],color:"#50B432"},{name:"Verbleibende Restschuld",data:[1,4],color:"#009CDE"}]};e.chartConfig_2=angular.merge(o,t.verticalBar)}])}(),function(){"use strict";angular.module("app").controller("assetallokationController",["$scope","$rootScope","chartConfig","geldanlageCalculator","marketdataService",function(e,n,t,a,i){function r(e,n){for(var t=[],a=0;a<e.length;a+=1)t.push(e[a]*n);return t}function o(e,n){for(var t=[],a=0;a<e.length;a+=1)t.push(r(e[a],n));return t}var s=this;s.inputs={selection:1,principal:15e3};var l=["sehr konservativ","konservativ","ausgewogen","aggressiv","sehr aggressiv"],u=[[50,50,0],[30,50,20],[30,30,40],[25,15,60],[10,10,80]];e.$watchCollection("vm.inputs",function(){s.profile=l[s.inputs.selection],e.chartConfig_2.series[0].data=r(i.montecarlo[s.inputs.selection].values,s.inputs.principal),e.chartConfig_2.series[1].data=o(i.montecarlo[s.inputs.selection].confidence,s.inputs.principal),e.chartConfig_2.title.text="Erwartete Rendite und Risiko für "+s.profile+"e Risikoprofile",e.chartConfig_1.series[0].data=[{name:"Tagesgeld",y:u[s.inputs.selection][0],color:"#009CDE"},{name:"Festgeld",y:u[s.inputs.selection][1],color:"#50B432"},{name:"Aktien (ETF)",y:u[s.inputs.selection][2],color:"#F38200"}],s.result={value:i.montecarlo[s.inputs.selection].values[i.montecarlo[s.inputs.selection].values.length-1]*s.inputs.principal,low_conf:i.montecarlo[s.inputs.selection].confidence[i.montecarlo[s.inputs.selection].confidence.length-1][0]*s.inputs.principal,high_conf:i.montecarlo[s.inputs.selection].confidence[i.montecarlo[s.inputs.selection].confidence.length-1][1]*s.inputs.principal,pLoss_10y:i.montecarlo[s.inputs.selection].pLoss[10]}});var c={title:{text:""},options:{tooltip:{pointFormat:"{series.name}: <b>{point.y:.0f} %</b>"},legend:{enabled:!0,labelFormat:"<span>{name}: {y:.0f} %</span>",layout:"vertical",useHTML:!1},chart:{height:250}},series:[{name:"Allokation",data:[{name:"Tagesgeld ",y:55,color:"#009CDE"},{name:"Festgeld",y:35,color:"#50B432"},{name:"Aktien (ETF)",y:10,color:"#F38200"}]}]};e.chartConfig_1=angular.merge(c,t.piechart);var p={title:{text:"Erwartete Rendite und Risikoprofil"},xAxis:{categories:["2015","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035"]},yAxis:{title:{text:null}},options:{tooltip:{crosshairs:!0,shared:!0,valueSuffix:"€",valueDecimals:2},legend:{enabled:!1}},series:[{name:"Renditeentwicklung",data:a.assetgrowth({value:100,periods:21,interest:.02,spread:.005}).values,zIndex:1,marker:{fillColor:"white",lineWidth:2,lineColor:Highcharts.getOptions().colors[0]}},{name:"Streuung (50 % Konfidenz)",data:a.assetgrowth({value:100,periods:21,interest:.02,spread:.005}).confidence,type:"arearange",lineWidth:0,linkedTo:":previous",color:Highcharts.getOptions().colors[0],fillOpacity:.3,zIndex:0}]};e.chartConfig_2=angular.merge(p,t.linechart)}])}(),function(){"use strict";angular.module("app").controller("sparrechnerController",["$scope","$rootScope","chartConfig","finlibSavings",function(e,n,t,a){var i,r=this;r.inputs={principal:1e4,saving:100,interest:1.75,term:10,dynamic:0,saveterm:0,inflowfreq:{id:12},inflowtime:{id:1},interestfreq:{id:1},compounding:{id:1}},$(".collapse").on("shown.bs.collapse",function(){$(this).prev().find("i").addClass("fa-angle-down"),n.$broadcast("rzSliderForceRender")}),$(".collapse").on("hidden.bs.collapse",function(){$(this).prev().find("i").removeClass("fa-angle-down")}),e.$watchCollection("vm.inputs",function(){var n={mode:1,principal:r.inputs.principal,term:Math.ceil(12*r.inputs.term)/12,inflow:r.inputs.saving,interest:r.inputs.interest/100,inflowfreq:r.inputs.inflowfreq.id,interestfreq:r.inputs.interestfreq.id,compounding:r.inputs.compounding.id,dynamic:r.inputs.dynamic/100,inflowtime:r.inputs.inflowtime.id,termfix:Math.ceil(12*r.inputs.saveterm)/12,terminal:12e4};r.result=a.schedule.call(n),i=_.filter(r.result.schedule,function(e){return e[5]===!0&&e[6]===!1});var t=_.map(i,function(){return r.inputs.principal});t.unshift(r.inputs.principal);var o=_.map(i,function(e){return e[2]});o=_.reduce(o,function(e,n){return e.push((e.length>0?e[e.length-1]:0)+n),e},[]),o.unshift(0);var s=_.map(i,function(e){return e[3]});s=_.reduce(s,function(e,n){return e.push((e.length>0?e[e.length-1]:0)+n),e},[]),s.unshift(0),e.chartConfig_1.series[0].data=[{name:"Anfangskapital",y:r.result.principal,color:"#009CDE"},{name:"Einzahlungen",y:r.result.inflow,color:"#50B432"},{name:"Zinsen",y:r.result.interest,color:"#F38200"}],e.chartConfig_2.series[0].data=s,e.chartConfig_2.series[1].data=o,e.chartConfig_2.series[2].data=t});var o={title:{text:"Zusammensetzung des Endkapitals"},options:{tooltip:{pointFormat:"{series.name}: {point.y:.2f} €"},legend:{enabled:!0,labelFormat:"<span>{name}: {y:.2f} €</span>",layout:"vertical"}},series:[{name:"Gesamtbetrag",data:[{name:"Anfangskapital",y:1,color:"#009CDE"},{name:"Einzahlungen",y:4,color:"#50B432"},{name:"Zinsen",y:6,color:"#F38200"}]}]};e.chartConfig_1=angular.merge(o,t.piechart);var s={title:{text:"Sparguthabenentwicklung"},legend:{enabled:!1},options:{plotOptions:{column:{stacking:"normal"}},tooltip:{headerFormat:'<span style="font-size: 14px">{point.key}. Jahr</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: {point.y:.2f} €<br/>',shared:!0}},xAxis:{minTickInterval:"1",tickInterval:"1",title:{text:"Jahr"}},yAxis:{title:{text:"Sparguthaben"}},series:[{name:"Gesamter Zinsertrag",data:[1,4],color:"#F38200"},{name:"Gesamte Einzahlungen",data:[1,4],color:"#50B432"},{name:"Anfangskapital",data:[1,4],color:"#009CDE"}]};e.chartConfig_2=angular.merge(s,t.verticalBar)}])}(),function(){"use strict";angular.module("app").controller("artablaufhauskaufController",["$scope","chartConfig","$http",function(e,n,t){$(document).ready(function(){$("#processTabs").tabs({show:{effect:"fade",duration:400}}),$(".tab-linker").click(function(){return $("#processTabs").tabs("option","active",$(this).attr("rel")-1),!1})})}])}(),function(){"use strict";angular.module("app").controller("haeufigeFehlerHauskaufController",["$scope","$rootScope","$interval","chartConfig","hauskaufCalculator",function(e,n,t,a,i){var r={title:{text:"Wertentwicklung Immobilienindex und Aktienindex (DAX)",style:a.titleStyle},xAxis:{categories:["'95","'96","'97","'98","'99","'00","'01","'02","'03","'04","'05","'06","'07","'08","'09","'10","'11","'12","'13","'14"]},yAxis:{title:{text:"Wert des Index (2010 = Index 100)"}},tooltip:{valueSuffix:""},credits:{enabled:"true",text:"Quellen: Deutsche Bundesbank / bulwiengesa AG",href:"www.bundesbank.de"},series:[{name:"Preisindex für Reihenhäuser und Eigentumswohnungen",data:[100,98.64,96.89,96.02,96.11,96.6,96.5,95.92,94.56,93.29,92.42,92.52,93.39,93.97,94.56,97.18,102.82,109.23,116.03,122.06]},{name:"DAX Performanceindex (normalisiert)",data:[100,128.17,188.55,221.95,308.72,285.45,228.94,128.34,175.93,188.83,239.95,292.69,357.93,213.42,264.32,306.77,261.7,337.75,423.81,435.05],color:"#B2AB12"},{name:"Index für Reihenhäuser und Eigentumswohnungen mit 2,5 % Nettomietrendite p. a.",data:[100,101.17,102.03,103.81,106.59,109.82,112.55,114.89,116.53,118.34,120.61,123.91,128.04,131.97,135.99,142.08,151.2,161.17,171.6,181.39],color:"#B20925"}]};e.chartConfig_1=angular.extend(r,a.linechart)}])}(),function(){"use strict";angular.module("app").controller("deutschlandsbestearbeitsmaerkteController",["$scope","chartConfig","$http",function(e,n,t){t({method:"GET",url:"/hauskauf/deutschlands-attraktivste-arbeitsmaerkte/map_data"}).then(function(n){e.chartConfig_1.series[0].data=n.data},function(e){console.log("An error occured")}),e.chartConfig_1={options:{legend:{enabled:!1},mapNavigation:{enabled:!0,buttonOptions:{verticalAlign:"bottom"}},colorAxis:{min:null,max:null,type:"logarithmic",minColor:"#ffffff",maxColor:"#009CDE"},plotOptions:{map:{mapData:Highcharts.maps["countries/de/de-all-all"],joinBy:"hc-key"}}},chartType:"map",title:{text:"FinIQ-Attraktivitätsindex der Städte und Landkreise"},credits:{enabled:"true",text:"Quelle: Statistisches Bundesamt; Highcharts © GeoBasis-DE / BKG 2014"},series:[{name:"Attraktivitätsindex",states:{hover:{color:"#009CDE"}},dataLabels:{enabled:!1,format:"{point.name}"},tooltip:{pointFormat:" <strong>{point.name}: {point.value} / 100</strong> <br>Hartz-IV-Quote: {point.alg2} %  <br>Arbeitslosenquote: {point.alg1} %  <br>Arbeitsplatzversorgung: {point.versorgung} % <br>Verfügbares jährl. Einkommen pro Person: {point.income} € <br>Bruttoinlandsprodukt pro Person: {point.bip} €"}}]}}])}(),function(){"use strict";angular.module("app").controller("kaufpreisController",["$scope","$rootScope","chartConfig","$interval","marketdataService","hauskaufCalculator",function(e,n,t,a,i,r){var o=this;o.inputs={rent:900,income:300,equity:4e4,debtinterest:2.2,term:18,priceaddon:10,maintenance:400,maintenancepercent:2.5,repaypercent:85},e.$watch("vm.inputs.term",function(){o.inputs.debtinterest=i.mortgageinterest[Math.floor(o.inputs.term)]}),o.sliderTranslate=function(e){return""},$(".collapse").on("shown.bs.collapse",function(){$(this).prev().find("i").addClass("fa-angle-down"),n.$broadcast("rzSliderForceRender")}),$(".collapse").on("hidden.bs.collapse",function(){$(this).prev().find("i").removeClass("fa-angle-down")}),e.$watchCollection("vm.inputs",function(){var e={interest:o.inputs.debtinterest,notar:.12*o.inputs.priceaddon,makler:.38*o.inputs.priceaddon,proptax:.5*o.inputs.priceaddon,rent:o.inputs.rent,income:o.inputs.income,maintenancepercent:o.inputs.maintenancepercent,term:o.inputs.term,equity:o.inputs.equity,repaypercent:o.inputs.repaypercent};o.result=r.propertyprice(e)})}])}(),function(){"use strict";angular.module("app").controller("mietenoderkaufenController",["$scope","$rootScope","$interval","chartConfig","hauskaufCalculator",function(e,n,t,a,i){e.calcAbsolute=function(e,n){return n/100*e},e.calcMonthlyDebt=function(e,n,t,a){return e/100*(t-n/100*a/12)},e.calcMonthlyMaintenance=function(e,n){return e/100*n/12},e.calcDebtpay=function(){return e.inputs.debtpay/100*(e.inputs.income-e.inputs.maintenancePercent/100*e.inputs.price/12)},e.calcMaintenanceYear=function(){return e.inputs.maintenancePercent/100*e.inputs.price},e.calcMaintenanceMonth=function(){return e.inputs.maintenancePercent/100*e.inputs.price/12},e.calcBestAlternative=function(){var n;return n=e.result.buyFinalWealth>=e.result.rentFinalWealth?" kaufen ":" mieten "},e.inputs={price:3e5,rent:1e3,equity:30,income:1350,priceaddon:10,maintenancePercent:2.5,valuedynamic:1.1,rentdynamic:2.2,costdynamic:2.2,equityinterest:1.6,debtinterest:2.2,debtpay:90,period:15,incomedynamic:0},e.sliderTranslate=function(e){return""},$(".collapse").on("shown.bs.collapse",function(){$(this).prev().find("i").addClass("fa-angle-down"),n.$broadcast("rzSliderForceRender")}),$(".collapse").on("hidden.bs.collapse",function(){$(this).prev().find("i").removeClass("fa-angle-down")}),e.$watchCollection("inputs",function(){var n={price:e.inputs.price,priceaddon:e.calcAbsolute(e.inputs.price,e.inputs.priceaddon),maintenance:e.calcMaintenanceMonth(),rent:e.inputs.rent,equity:e.calcAbsolute(e.inputs.price,e.inputs.equity),income:e.inputs.income,equityinterest:e.inputs.equityinterest,debtinterest:e.inputs.debtinterest,debtpay:e.calcDebtpay(),period:e.inputs.period,incomcedynamic:e.inputs.incomedynamic,rentdynamic:e.inputs.rentdynamic,valuedynamic:e.inputs.valuedynamic,costdynamic:e.inputs.costdynamic};e.result=i.buyrent(n),e.buyIsBest=e.result.buyFinalWealth>=e.result.rentFinalWealth,e.chartConfig_1.series[0].data=[{y:e.result.rentFinalWealth,color:"#F38200"},e.result.buyFinalWealth]});var r={title:{text:""},legend:{enabled:!1},xAxis:{categories:["Mieten","Kaufen"]},yAxis:{title:{text:"Vermögen"}},series:[{data:[{y:1,color:"#F38200"},4]}]};e.chartConfig_1=angular.merge(r,a.verticalBar);var o={title:{text:"Preis- und Mietenindex für Deutschland",style:a.titleStyle},xAxis:{categories:["Mrz '00","Jun '00","Sep '00","Dez '00","Mrz '01","Jun '01","Sep '01","Dez '01","Mrz '02","Jun '02","Sep '02","Dez '02","Mrz '03","Jun '03","Sep '03","Dez '03","Mrz '04","Jun '04","Sep '04","Dez '04","Mrz '05","Jun '05","Sep '05","Dez '05","Mrz '06","Jun '06","Sep '06","Dez '06","Mrz '07","Jun '07","Sep '07","Dez '07","Mrz '08","Jun '08","Sep '08","Dez '08","Mrz '09","Jun '09","Sep '09","Dez '09","Mrz '10","Jun '10","Sep '10","Dez '10","Mrz '11","Jun '11","Sep '11","Dez '11","Mrz '12","Jun '12","Sep '12","Dez '12","Mrz '13","Jun '13","Sep '13","Dez '13","Mrz '14","Jun '14","Sep '14","Dez '14","Mrz '15"]},yAxis:{title:{text:"Preisindex (2010 = Index 100)"}},tooltip:{valueSuffix:""},credits:{enabled:"true",text:"Quelle: Statistisches Bundesamt",href:"www.destatis.de"},series:[{name:"Preisindex Neubau",data:[91.9,91.4,91.3,90.7,90.3,88.4,89.9,89.5,89.1,88.6,90.1,88.3,89.1,90.7,87.4,88.3,89.7,89.1,89,89.8,90.5,88.1,89.9,88.8,88.9,87,88.3,89.3,86,91.3,91.9,91.5,91.8,92.9,93.3,92.6,95.8,95.6,99.2,100.1,98.8,98.8,101.5,101,102.2,105.4,107.1,105.7,106.6,107.3,108.4,109.9,108.8,110.1,109.5,109.2,110.7,112.8,114.6,115.4,116.9]},{name:"Preisindex Bestand",data:[101.9,101.5,102.6,102.8,103.3,103.6,103,100.8,101,102.2,101.6,99.6,101.1,103.2,102,100.2,101.9,100.5,99.2,97.1,102.1,100.4,102.6,99.4,100.9,101.8,99.9,100.7,97,98.5,98.2,98.3,99.9,100.1,98,98.4,97.9,99.7,98.9,100.4,99,100.8,100.5,99.7,102.7,103.7,102.9,103.9,104.7,106.1,107.7,109.2,108.9,111.1,111,111.2,112,113.5,113.7,113.4,115.9],color:"#B2AB12"},{name:"Mietenindex",data:[89.4,89.6,89.7,90,90.3,90.5,90.9,91.1,91.6,91.8,92,92.3,92.6,92.9,93,93,93.3,93.5,93.8,93.9,94.2,94.4,94.6,94.9,95.2,95.5,95.7,95.9,96.2,96.5,96.9,97.1,97.5,97.8,98,98.3,98.6,98.8,99,99.2,99.7,100,100.2,100.5,100.9,101.2,101.5,101.9,102.2,102.6,102.8,103.2,103.4,103.7,104.1,104.5,104.9,105.3,105.6,106,106.3],color:"#B20925"}]};e.chartConfig_2=angular.extend(o,a.linechart)}])}(),function(){"use strict";angular.module("app").controller("uebersichtgrundstueckspreiseController",["$scope","chartConfig","$http",function(e,n,t){t({method:"GET",url:"/hauskauf/uebersicht-der-grundstueckspreise/map_data"}).then(function(n){e.chartConfig_1.series[0].data=n.data},function(e){console.log("An error occured")}),e.chartConfig_1={options:{legend:{enabled:!1,floating:!1,layout:"horizontal"},mapNavigation:{enabled:!0,buttonOptions:{verticalAlign:"bottom"},enableTouchZoom:!0,enableMouseWheelZoom:!0},colorAxis:{min:null,max:null,type:"logarithmic",minColor:"#ffffff",maxColor:"#009CDE"},plotOptions:{map:{mapData:Highcharts.maps["countries/de/de-all-all"],joinBy:"hc-key"}}},chartType:"map",title:{text:"Durchschnittliche Grundstückspreise in den Regionen"},credits:{enabled:"true",text:"Quelle: Statistisches Bundesamt; Highcharts © GeoBasis-DE / BKG 2014"},series:[{name:"Durchschnittlicher Kaufpreis",states:{hover:{color:"#009CDE"}},dataLabels:{enabled:!1,format:"{point.name}"},tooltip:{pointFormat:" <strong>{point.name}: {point.value} € / qm</strong> <br>5-Jahres-Wachstumsrate (08-13): {point.5yeargrowth} % p. a. <br> Durschnittliche Kaufpreise der vergangenen Jahre: <br>  2012: {point.value12} € / qm <br>  2011: {point.value11} € / qm <br>  2010: {point.value10} € / qm <br>  2009: {point.value09} € / qm <br>  2008: {point.value08} € / qm"}}]}}])}(),function(){"use strict";angular.module("app").controller("zehnschnaeppchenController",["$scope","chartConfig","$http",function(e,n,t){$(function(e){e(".carousel").carousel();var n=e("div.item:nth-child(1) .carousel-caption");e(".new-caption-area").html(n.html()),n.css("display","none"),e(".carousel").on("slide.bs.carousel",function(n){var t=e("div.item:nth-child("+(e(n.relatedTarget).index()+1)+") .carousel-caption");e(".new-caption-area").html(t.html()),t.css("display","none")})})}])}(),function(){"use strict";angular.module("app").controller("dispozinsrechnerController",["$scope","$rootScope","chartConfig","dispozinsCalculator",function(e,n,t,a){var i=this;i.inputs={principal:1e3,dispolimit:1e4,dispointerest:12.5,otherinterest:15,dispodays:100,daycount:{id:1}},$(".collapse").on("shown.bs.collapse",function(){$(this).prev().find("i").addClass("fa-angle-down"),n.$broadcast("rzSliderForceRender")}),$(".collapse").on("hidden.bs.collapse",function(){$(this).prev().find("i").removeClass("fa-angle-down")}),e.$watchCollection("vm.inputs",function(){var n={principal:i.inputs.principal,limit:i.inputs.dispolimit,dispointerest:i.inputs.dispointerest,otherinterest:i.inputs.otherinterest,days:i.inputs.dispodays,daycount:i.inputs.daycount.id,periodchoice:"days"};i.result=a.dispo(n),e.chartConfig_1.series[0].data=[{name:"Höhe Kontoüberziehung",y:i.inputs.principal,color:"#009CDE"},{name:"Anfallende Dispozinsen",y:i.result.amount,color:"#F38200"}]});var r={title:{text:"Zinszahlung und Überziehungsbetrag"},options:{tooltip:{pointFormat:"{point.y:.2f} €"},legend:{enabled:!0,labelFormat:"<span>{name}: {y:.2f} €</span>",layout:"vertical"}},series:[{data:[{name:"Höhe Kontoüberziehung",y:6,color:"#009CDE"},{name:"Anfallende Dispozinsen",y:1,color:"#F38200"}]}]};e.chartConfig_1=angular.merge(r,t.piechart)}])}(),function(){angular.module("app").factory("bausparCalculator",["finlibBasic",function(e){var n={};return n.homesave=function(n){var t={};t._1={},t._2={};var a=[];a[0]=[],a[1]=[],a[2]=[],a[3]=[],a[4]=[],a[5]=[],a[6]=[],a[7]=[],a[8]=[],a[9]=[];var i,r=[];r[0]=[],r[1]=[],r[2]=[],r[3]=[],r[4]=[],r[5]=[],r[6]=[],r[7]=[],r[8]=[],r[9]=[];var o,s,l,u,c,p,d,m,h={},y=0,g=[],b=[];n.interestsave/=100,n.interestdebt/=100,h.intoyear=function(e){return 12*(e%12===0)+e%12},s=1+n.interestsave,u=n.interestdebt/12,l=n.saving*(12+5.5*(s-1)),p=Math.ceil(n.termsave/(1/12))/12,d=Math.floor(p),p!==n.termsave&&helpers.messages.set("Hinweis: Die angegebene Anspardauer von "+f.basic.round(n.termsave,2)+" Jahren ist kein Vielfaches des Einzahlungsintervalls (monatlich). Die Anspardauer wurde entsprechend auf die nächste volle Zahlungsperiode angepasst. Der angepasste Wert beträgt "+f.basic.round(p,2)+" Jahre ("+f.basic.round(12*p,2)+" Monate).",2),y=0;var v=0,w=[];for(w[2]=0,w[3]=0,h.wohnungsbau=0,m=1,c=12*p+d;c>=m;m++)a[6][m-2]?(a[0][m-1]=Math.ceil(m/13),a[1][m-1]=a[1][m-h.intoyear(a[0][m-2])-1],a[2][m-1]=n.saving*h.intoyear(a[0][m-2]),a[3][m-1]=a[3][m-2],a[4][m-1]=0,a[5][m-1]=a[5][m-2],a[6][m-1]=!1,a[7][m-1]=!0,a[8][m-1]=". Jahr",a[9][m-1]=!0,v=1):(a[7][m-1]=!1,1===m?a[0][m-1]=1:a[0][m-1]=a[0][m-2-v]+1,1===m?a[1][m-1]=0-n.initialfee+n.initialpay:a[1][m-1]=a[5][m-2-v],a[2][m-1]=n.saving,g.push([a[0][m-1],a[2][m-1]]),y+=a[1][m-1]*(n.interestsave/12),a[0][m-1]%12===0||m===12*p+d?(a[3][m-1]=y,y=0,a[6][m-1]=!0,h.wohnungsbautemp=12>=m?n.initialpay:0,h.wohnungsbau+=Math.round(100*Math.min(.088*(h.intoyear(a[0][m-1])*n.saving+a[3][m-1]+h.wohnungsbautemp>50?h.intoyear(a[0][m-1])*n.saving+a[3][m-1]+h.wohnungsbautemp:0),45.056*(1+Number(n.marriage))))/100,a[0][m-1]%12!==0&&m===12*p+d?c+=1:c=c):(a[3][m-1]=0,a[6][m-1]=!1),a[4][m-1]=0,a[5][m-1]=a[1][m-1]+a[2][m-1]+a[3][m-1],w[0]=a[0][m-1],w[2]+=a[2][m-1],w[3]+=a[3][m-1],v=0),w[5]=a[5][m-1];h.finalsavings=w[5],h.wohnungsbauent=n.income<=25600*(1+Number(n.marriage))?!0:!1,h.wohnungsbau=Number(n.bonus)*Number(h.wohnungsbauent)*h.wohnungsbau,h.finalsavingswohnungsbau=h.finalsavings+h.wohnungsbau,h.totalloanpay=n.paypercent/100*n.principal,i=a[0].map(function(e,n){return a.map(function(e){return e[n]})}),0!=h.wohnungsbau&&i.push(["Wohnungsbauprämie",w[5],h.wohnungsbau,,,w[5]+h.wohnungsbau,,]),i.push(["Summen",0-n.initialfee+n.initialpay,w[2]+h.wohnungsbau,w[3],,w[5]+h.wohnungsbau,,!0]),i.push(["Zuteilung Darlehen",w[5]+h.wohnungsbau,-h.totalloanpay,,,w[5]+h.wohnungsbau-h.totalloanpay,,!0]),h.numberpays=12*p,h.totalpays=h.numberpays*n.saving,h.totalinterest=h.finalsavings-h.totalpays+n.initialfee-n.initialpay,h.totalloanpay=n.paypercent/100*n.principal,h.totalloan=h.totalloanpay-h.finalsavingswohnungsbau,h.termloan=0===n.interestdebt?h.totalloan/(12*n.repay):Math.log(n.repay/(u*h.totalloan)/(n.repay/(u*h.totalloan)-1))/(12*Math.log(1+u)),h.savingratio=h.finalsavingswohnungsbau/n.principal*100,h.totalloanpays=12*h.termloan,g[0][1]+=n.initialpay,g[g.length-1][1]-=h.finalsavingswohnungsbau,h.irrSave=e.irr(0,g,12),h.irrSave="undefined"!=typeof h.irrSave?h.irrSave:null,v=0;var x=0,M=0,C=[];for(C[2]=0,C[3]=0,m=1,c=Math.floor(h.totalloanpays)+1;c>=m;m++)r[6][m-2]?(r[0][m-1]=Math.ceil(r[0][m-2]/12),r[1][m-1]=r[1][m-Math.min(h.intoyear(r[0][m-2]),m-1)-1],r[2][m-1]=x,x=0,r[3][m-1]=M,M=0,r[4][m-1]=0,r[5][m-1]=r[5][m-2],r[6][m-1]=!1,r[7][m-1]=!0,r[8][m-1]=". Jahr",r[9][m-1]=!0,v=1):(1===m?r[0][m-1]=1+w[0]:r[0][m-1]=r[0][m-2-v]+1,1===m?r[1][m-1]=w[5]+h.wohnungsbau-h.totalloanpay:r[1][m-1]=r[5][m-2-v],r[3][m-1]=r[1][m-1]*(n.interestdebt/12),M+=r[3][m-1],C[3]+=r[3][m-1],r[2][m-1]=Math.min(n.repay,-(r[1][m-1]+r[3][m-1])),b.push([r[0][m-1]-w[0],r[2][m-1]]),C[2]+=r[2][m-1],x+=r[2][m-1],r[5][m-1]=r[1][m-1]+r[2][m-1]+r[3][m-1],r[0][m-1]%12===0||c===m?(r[6][m-1]=!0,c+=1):r[6][m-1]=!1,v=0);return o=r[0].map(function(e,n){return r.map(function(e){return e[n]})}),o.push(["Summen",w[5]+h.wohnungsbau-h.totalloanpay,C[2],C[3],,w[5]+h.wohnungsbau-h.totalloanpay+C[2]+C[3],,!0]),h.interestloan=-C[3],h.totalloanwinterest=h.totalloan+h.interestloan,h.irrLoan=e.irr(h.totalloan,b,12),h.irrLoan="undefined"!=typeof h.irrLoan?h.irrLoan:null,t.numberpays=h.numberpays,t.totalpays=h.totalpays,t.totalinterest=h.totalinterest,t.totalloanpay=n.paypercent/100*n.principal,t.totalloan=h.totalloan,t.interestloan=h.interestloan,t.termloan=h.termloan,t.savingratio=h.savingratio,t.totalloanpay=h.totalloanpay,t.totalloanpays=h.totalloanpays,t.totalloanwinterest=h.totalloanwinterest,t.finalsavingswohnungsbau=h.finalsavingswohnungsbau,t.wohnungsbau=h.wohnungsbau,t.initialpay=n.initialpay,t.intialfee=-n.initialfee,null!==h.irrSave&&isFinite(h.irrSave)&&(t.irrSave=100*h.irrSave),null!==h.irrLoan&&isFinite(h.irrLoan)&&(t.irrLoan=100*h.irrLoan),t._2.title="Entwicklung Bausparguthaben",t._2.header1=["Monat","Guthaben Monatsanfang","Sparbeitrag","Zinsen","Prämien","Guthaben Monatsende"],t._2.body=i,t._2.header2=["Monat","Saldo Monatsanfang","Rückzahlungsrate","Zinsen","Prämien","Saldo Monatsende"],t._2.body2=o,t},n}])}(),function(){angular.module("app").factory("dispozinsCalculator",[function(){var e={};return e.test=function(){return"Ho"},e.dispo=function(e){function n(e,n){var t={};return t.amount=e,t.interest=n,t}var t;if(t=Math.min(e.principal,e.limit)*(e.dispointerest/100)+Math.max(0,e.principal-e.limit)*(e.otherinterest/100),"days"===e.periodchoice)switch(e.daycount){case"a30E360":case 1:return amount=t*e.days/360,interest=amount/e.principal*(360/e.days)*100,n(amount,interest);case"a30360":case 2:return amount=t*e.days/360,interest=amount/e.principal*(360/e.days)*100,n(amount,interest);case"act360":case 3:return amount=t*e.days/360,interest=amount/e.principal*(360/e.days)*100,n(amount,interest);case"act365":case 4:return amount=t*e.days/365,interest=amount/e.principal*(365/e.days)*100,n(amount,interest);case"actact":case 5:return amount=t*e.days/365.25,interest=amount/e.principal*(365.25/e.days)*100,n(amount,interest)}else if("dates"===e.periodchoice)switch(range={begindate:e.startdate,enddate:e.enddate,skipvalidation:!0},daycount=misc.daycount(range),e.daycount){case"a30E360":return daycount.then(function(a){return amount=t*a._1.a30E360factor.value,interest=amount/e.principal*(360/a._1.a30E360interestdays.value)*100,n(amount,interest)});case"a30360":return daycount.then(function(a){return amount=t*a._1.a30360factor.value,interest=amount/e.principal*(360/a._1.a30360interestdays.value)*100,n(amount,interest)});case"act360":return daycount.then(function(a){return amount=t*a._1.act360factor.value,interest=amount/e.principal*(360/a._1.act360interestdays.value)*100,n(amount,interest)});case"act365":return daycount.then(function(a){return amount=t*a._1.act365factor.value,interest=amount/e.principal*(365/a._1.act365interestdays.value)*100,n(amount,interest)});case"actact":return daycount.then(function(a){return amount=t*a._1.actactfactor.value,interest=amount/e.principal*(1/a._1.actactfactor.value)*100,n(amount,interest)})}},e}])}(),function(){angular.module("app").factory("geldanlageCalculator",[function(){var e={};return e.assetgrowth=function(e){e.spread="undefined"!=typeof e.spread?e.spread:0;var n,t=[],a=[],i=e.value,r=e.value,o=e.value;for(n=0;n<e.periods;n++)t.push(i),a.push([o,r]),i*=1+e.interest,r*=1+e.interest+e.spread,o*=1+e.interest-e.spread;return{values:t,confidence:a}},e}])}(),function(){angular.module("app").factory("hauskaufCalculator",[function(){var e={};return e.multi=function(e){return.1*e},e.buyrent=function(e){var n,t,a,i,r,o,s,l={},u={},c=[];c[0]=[],c[1]=[],c[2]=[],c[3]=[],c[4]=[],c[5]=[];var p,d=[];d[0]=[],d[1]=[],d[2]=[],d[3]=[],d[4]=[],d[5]=[],d[6]=[],d[7]=[],d[8]=[],d[9]=[],d[10]=[],d[11]=[],d[12]=[],d[13]=[],d[14]=[];var m;e.dynamics=!0;var f=function(e,n,t,a){var i,r,o=0;for(i=1;n>=i;i++)r=Math.max(e,0)*(t/n),e-=a-r,o+=r;return o},h=function(e,n,t,a){return Math.min(e,n*a-f(e,n,t,a))},y=function(e,n,t,a){return e-h(e,n,t,a)},g=function(e,n){return e+n};for(e.equityinterest=e.equityinterest/100,e.debtinterest=e.debtinterest/100,e.rentdynamic=e.rentdynamic/100||0,e.incomedynamic=e.incomedynamic/100||0,e.valuedynamic=e.valuedynamic/100||0,e.costdynamic=e.costdynamic/100||0,u.rentFinalCost=e.dynamics&&0!==e.rentdynamic?12*e.rent*(1-Math.pow(1+e.rentdynamic,e.period))/-e.rentdynamic:12*e.rent*e.period,u.rentFinalIncome=e.dynamics&&0!==e.incomedynamic?12*e.income*(1-Math.pow(1+e.incomedynamic,e.period))/-e.incomedynamic:12*e.income*e.period,u.rentAnnualReplacement=(e.income-e.rent)*(12+6.5*e.equityinterest),u.rentAvailableForSavingValue=0===e.equityinterest?u.rentAnnualReplacement:u.rentAnnualReplacement*(Math.pow(1+e.equityinterest,e.period)-1)/e.equityinterest,s=1;s<=e.period;s++){c[0][s-1]=s,c[1][s-1]=1===s?e.equity:c[4][s-2],c[2][s-1]=12*e.income*Math.pow(1+e.dynamics*e.incomedynamic,s-1)-12*e.rent*Math.pow(1+e.dynamics*e.rentdynamic,s-1),i=c[1][s-1],r=0,o=0;for(var b=1;12>=b;b++)r=e.equityinterest/12*(i+e.income*Math.pow(1+e.dynamics*e.incomedynamic,s-1)-e.rent*Math.pow(1+e.dynamics*e.rentdynamic,s-1)),o+=r>=0?r:0,i+=e.income*Math.pow(1+e.dynamics*e.incomedynamic,s-1)-e.rent*Math.pow(1+e.dynamics*e.rentdynamic,s-1);c[3][s-1]=o,c[4][s-1]=c[1][s-1]+c[2][s-1]+c[3][s-1]}for(p=c[0].map(function(e,n){return c.map(function(e){return e[n]})}),p.push(["Gesamt",e.equity,_.reduce(c[2],g,0),_.reduce(c[3],g,0),c[4][e.period-1],!0]),u.rentFinalInterest=_.reduce(c[3],g,0),u.rentFinalWealth=e.equity+u.rentFinalIncome+u.rentFinalInterest-u.rentFinalCost,u.buyLoan=e.price+e.priceaddon-e.equity,u.buyAnnualLoanPayment=12*e.debtpay,s=1;s<=e.period;s++){d[0][s-1]=s,d[1][s-1]=1===s?0:d[11][s-2],d[2][s-1]=1===s?e.equity-e.priceaddon:d[12][s-2],d[3][s-1]=1===s?u.buyLoan:d[6][s-2],d[4][s-1]=f(d[3][s-1],12,e.debtinterest,e.debtpay),d[5][s-1]=h(d[3][s-1],12,e.debtinterest,e.debtpay),d[6][s-1]=y(d[3][s-1],12,e.debtinterest,e.debtpay),d[7][s-1]=d[4][s-1]+d[5][s-1],d[8][s-1]=12*e.income*Math.pow(1+e.dynamics*e.incomedynamic,s-1)-12*e.maintenance*Math.pow(1+e.dynamics*e.costdynamic,s-1)-d[7][s-1],n=0,t=0,a=d[7][s-1];for(var v=1;12>=v;v++)n+=e.income*Math.pow(1+e.dynamics*e.incomedynamic,s-1)-e.maintenance*Math.pow(1+e.dynamics*e.costdynamic,s-1),t+=n>=0?n*(e.equityinterest/12):0,a>=e.debtpay?(n-=e.debtpay,a-=e.debtpay):a<e.debtpay&&a>0?(n-=a,a-=a):n-=0;d[9][s-1]=d[8][s-1]+d[7][s-1]>=0?d[1][s-1]*e.equityinterest+t:t,d[10][s-1]=e.price*e.dynamics*(Math.pow(1+e.valuedynamic,s)-Math.pow(1+e.valuedynamic,s-1)),d[11][s-1]=d[1][s-1]+d[8][s-1]+d[9][s-1],d[12][s-1]=d[2][s-1]+d[5][s-1]+d[8][s-1]+d[9][s-1]+d[10][s-1]}return m=d[0].map(function(e,n){return d.map(function(e){return e[n]})}),u.termloan=Math.log(e.debtpay/(e.debtinterest/12*u.buyLoan)/(e.debtpay/(e.debtinterest/12*u.buyLoan)-1))/(12*Math.log(1+e.debtinterest/12)),u.buyprice=e.price+e.priceaddon,u.buyInterestSave=_.reduce(d[9],g,0),u.buyInterestLoan=_.reduce(d[4],g,0),u.buyIncomeSurplus=_.reduce(d[8],g,0),u.buyPropertyIncrease=_.reduce(d[10],g,0),u.buyMaintenance=e.dynamics&&0!==e.costdynamic?12*e.maintenance*(1-Math.pow(1+e.costdynamic,e.period))/-e.costdynamic:12*e.maintenance*e.period,u.buyRepay=_.reduce(d[5],g,0),u.buyResidual=-u.buyLoan+u.buyRepay,u.buyFinalWealth=e.equity-u.buyprice+u.buyLoan+u.rentFinalIncome+u.buyInterestSave-u.buyInterestLoan+u.buyPropertyIncrease-u.buyMaintenance-u.buyRepay+u.buyResidual+e.price,m.push(["Gesamt",u.buyLoan,e.equity-e.priceaddon,u.buyInterestLoan,u.buyRepay,u.buyRepay,,_.reduce(d[8],g,0),u.buyIncomeSurplus,u.buyInterestSave,u.buyPropertyIncrease,d[11][e.period-1],d[12][e.period-1],d[12][e.period-1],!0]),l.rentFinalWealth=u.rentFinalWealth,l.rentEquity=e.equity,l.rentFinalIncome=u.rentFinalIncome,
l.rentFinalCost=-u.rentFinalCost,l.rentFinalInterest=u.rentFinalInterest,l.buyFinalWealth=u.buyFinalWealth,l.buyEquity=e.equity,l.buyPrice=-u.buyprice,l.buyLoan=u.buyLoan,l.buyFinalIncome=u.rentFinalIncome,l.buyInterestSave=u.buyInterestSave,l.buyInterestLoan=-u.buyInterestLoan,l.buyMaintenance=-u.buyMaintenance,l.buyRepay=-u.buyRepay,l.buyResidual=u.buyResidual,l.buyPropValue=e.price+u.buyPropertyIncrease,l},e.propertyprice=function(e){e.selection="undefined"!=typeof e.selection?e.selection:4,e.initrepay="undefined"!=typeof e.initrepay?e.initrepay:4,e.repaypercent="undefined"!=typeof e.repaypercent?e.repaypercent:100,e.maintenancepercent="undefined"!=typeof e.maintenancepercent?e.maintenancepercent:2.5;var n={},t={};if(e.interest=e.interest/100,e.notar=e.notar/100,e.makler=e.makler/100,e.proptax=e.proptax/100,e.initrepay=e.initrepay/100,e.repaypercent=e.repaypercent/100,e.maintenancepercent=e.maintenancepercent/100/12,t.rate=(e.rent+e.income-e.maintenance)*e.repaypercent,t.q=1+e.interest/12,2===e.selection)t.loan=12*t.rate/(e.interest+e.initrepay),t.term=f.annuity.annuityTerm(t.loan,t.rate,e.interest,12),t.term=Math.round(100*t.term)/100;else if(3===e.selection)t.qnt=Math.pow(t.q,12*e.term),t.loan=0===e.interest?t.rate*e.term*12:t.rate*(t.qnt-1)/(t.qnt*(t.q-1)),t.initrepay=(12*t.rate-t.loan*e.interest)/t.loan;else{if(4!==e.selection)return;t.qnt=Math.pow(t.q,12*e.term),t.ratePrelim=(e.rent+e.income)*e.repaypercent,t.loanPrelim=0===e.interest?t.ratePrelim*e.term*12:t.ratePrelim*(t.qnt-1)/(t.qnt*(t.q-1)),t.maintenanceFrac=0===e.interest?e.maintenancepercent*e.term*12:e.maintenancepercent*(t.qnt-1)/(t.qnt*(t.q-1)),t.maxprice=(e.equity+t.loanPrelim)/(1+e.notar+e.makler+e.proptax+e.repaypercent*t.maintenanceFrac),t.totalpropcost=t.maxprice*(1+e.notar+e.makler+e.proptax),t.maintenance=t.maxprice*e.maintenancepercent,t.rate=(e.rent+e.income-t.maintenance)*e.repaypercent,t.loan=0===e.interest?t.rate*e.term*12:t.rate*(t.qnt-1)/(t.qnt*(t.q-1)),t.initrepay=(12*t.rate-t.loan*e.interest)/t.loan}return t.term=t.term||e.term,t.initrepay=t.initrepay||e.initrepay,t.maintenance=t.maintenance||e.maintenance,t.interest=12*t.term*t.rate-t.loan,t.totalpropcost=e.equity+t.loan,t.maxprice=t.totalpropcost/(1+e.notar+e.makler+e.proptax),t.notar=t.maxprice*e.notar,t.makler=t.maxprice*e.makler,t.proptax=t.maxprice*e.proptax,t.totalcost=t.totalpropcost+t.interest,n.maxprice=t.maxprice,n.notar=t.notar,n.makler=t.makler,n.proptax=t.proptax,n.totalpropcost=t.totalpropcost,n.loan=t.loan,n.rate=t.rate,n.term=t.term,n.initrepay=100*t.initrepay,n.interest=t.interest,n.totalcost=t.totalcost,n.maintenance=t.maintenance,n},e}])}(),function(){angular.module("app").factory("chartConfig",[function(){var e={},n=10,t=0,a=null,i={fontWeight:400,fontFamily:'"Lato", sans-serif',fontSize:"16px"},r={options:{chart:{type:"bar",spacingLeft:n,borderWidth:t,backgroundColor:a},legend:{enabled:!1}}},o={title:{style:i},options:{chart:{type:"column",spacingLeft:n,borderWidth:t,backgroundColor:a},legend:{enabled:!1}}},s={options:{chart:{type:"line",legend:{layout:"vertical",align:"bottom",borderWidth:0}},plotOptions:{series:{color:"#009CDE",marker:{enabled:!1}}}}},l={title:{style:i},options:{chart:{type:"pie",spacingLeft:n,borderWidth:t,backgroundColor:a},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}}}};return e.horizontalBar=r,e.verticalBar=o,e.linechart=s,e.titleStyle=i,e.piechart=l,e}])}(),function(){angular.module("app").factory("marketdataService",[function(){var e={};return e.mortgageinterest=[1,1,1,1,1,1,1,1.1,1.2,1.2,1.35,1.45,1.55,1.65,1.7,1.85,1.9,1.95,2,2.1,2.15,2.17,2.19,2.21,2.24,2.29,2.3,2.3,2.3,2.3,2.3],e.montecarlo=[{values:[1,1.0285,1.05706875,1.0866959982500002,1.11681280797775,1.148432689004094,1.1805999920406043,1.2136634336052319,1.2482683347801786,1.2831849712519232,1.319409430079817,1.3572244544657066,1.3954478042827994,1.4351424470815957,1.4761581789698643,1.518509015929867,1.5616662886797035,1.6058960108992444,1.6519284917819237,1.6989989526186235,1.7483977694448811],confidence:[[1,1],[1.02325,1.03275],[1.0497975,1.0636375],[1.07754472875,1.095107335],[1.1065956678875,1.1272969530874999],[1.13656483602255,1.1598033403942876],[1.167129930401145,1.193801575324843],[1.199115452742848,1.2283099641674338],[1.2318308037845702,1.2641853437202228],[1.2657412192650943,1.301088353943123],[1.300308282760077,1.3384795762352282],[1.3361881072867945,1.377656950009706],[1.373218518566187,1.4178792943648528],[1.4107509103923959,1.4590135479882826],[1.4502207675467786,1.501704484309458],[1.4895416906609154,1.5452878573003463],[1.531692951372923,1.5902194945572972],[1.5750116264808014,1.636828290877103],[1.6183365807308325,1.684678370470103],[1.6636067740833607,1.7342672908549768],[1.7100863612157804,1.7856974996138812]],pLoss:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{values:[1,1.04694,1.084013971,1.1170193247307498,1.1568116004933833,1.197133527396407,1.2359843819306437,1.279785772112373,1.3215584004550807,1.3679033219757115,1.4133435102464913,1.4588535475925268,1.5093704238507661,1.5612422478461383,1.6176672207012621,1.6786466676629788,1.734060208873854,1.7984054686819062,1.8610646476964714,1.9228836692570286,1.9950085902595507],confidence:[[1,1],[1.01588,1.0645],[1.03665672,1.1198759200000001],[1.062004269882,1.1732369295799998],[1.0904912011489363,1.2254698849069348],[1.1208625562575532,1.2810233629676533],[1.152125692748616,1.335957255210193],[1.1841712950288723,1.3932207330631967],[1.2179159474935013,1.451996392404893],[1.2528073414193297,1.516306653559989],[1.2903655308319781,1.581393024257362],[1.3279853438236597,1.6520598177251298],[1.366901449015892,1.7214657421934247],[1.407288833167662,1.792398553120443],[1.4517870212618604,1.8695655751682274],[1.4946606385909953,1.9520956954147144],[1.5410464214542814,2.028871065400498],[1.5882346744537206,2.1230852640956446],[1.6383460098703737,2.2207435349440323],[1.6884066123925647,2.317896514575237],[1.738424054233222,2.4156988667749424]],pLoss:[0,.2004,.1214,.0586,.0293,.0107,.0026,9e-4,2e-4,1e-4,0,0,0,0,0,0,0,0,0,0,0]},{values:[1,1.06407,1.1097035055,1.14014580969,1.184931158288577,1.229747035344437,1.2740448108317035,1.318061405053829,1.3686869438712372,1.4209950670837725,1.4742921416512744,1.5328444330242494,1.5893344217609386,1.6503259503744705,1.7105411948847782,1.7772007913434786,1.8501136753060696,1.92633815742543,2.001008253519789,2.082816091996109,2.1636059587366656],confidence:[[1,1],[1.01857,1.0979700000000001],[1.0143939,1.1773550160000001],[1.03007457726,1.255226358198],[1.0515977629328037,1.3211438914874978],[1.0807509214385203,1.3958419381447387],[1.10851081889142,1.4727830212286763],[1.1354066670468137,1.5520245677531865],[1.1649698939859636,1.6373102061810583],[1.1950839509045892,1.7179892663012188],[1.2279987324031227,1.806280832896757],[1.2595404788801348,1.9054199445845053],[1.2938744790925631,2.013286687737483],[1.3396812399736762,2.119249484562215],[1.3795614697734533,2.222921003742204],[1.4238107604288732,2.340807841721264],[1.4690840371514917,2.4733973288133733],[1.5094866370889872,2.601769024517755],[1.55402661393363,2.7331398228494193],[1.6036482374072043,2.8686992269663745],[1.6537925974775713,3.0208378147378996]],pLoss:[0,.2482,.2108,.2055,.1569,.1399,.1088,.0886,.0766,.0586,.0482,.0348,.0262,.0172,.0098,.0054,.0019,8e-4,1e-4,1e-4,0]},{values:[1,1.0819299999999998,1.1406453595,1.1672684329482,1.2185307239848515,1.2717532957744515,1.3254350875328418,1.3754636710831085,1.433048789917649,1.4935877632582077,1.5581607596751579,1.621533754311303,1.6841146770029125,1.7550187650414584,1.8256095089488742,1.9101090003861159,1.996145778964423,2.0833556223734666,2.1507012381793107,2.2313792580451253,2.3168619690038925],confidence:[[1,1],[1.022755,1.1235],[.986442504,1.232458418],[1.005701853978,1.333582610463],[1.014109049665272,1.4238739372246096],[1.0417943095855826,1.5234797024237028],[1.0717524391725235,1.6165811387717994],[1.0987946356625449,1.7174997926026672],[1.119161025604995,1.8302609052757446],[1.1514485570225972,1.9344414579799],[1.1853786643406976,2.051606754276147],[1.2166158278838781,2.172593353699602],[1.2509134970403104,2.3050347288937516],[1.2904016378797696,2.4670336916067366],[1.3256605533688472,2.607701307225709],[1.3665586952966466,2.7427400754843516],[1.4140249649479961,2.879848333191374],[1.4500814968905544,3.0135722900569264],[1.4929821358641493,3.202229001859629],[1.5261958107569042,3.3858163245571458],[1.5794788434305163,3.548253763684113]],pLoss:[0,.2447,.2703,.2429,.2327,.2027,.1863,.1673,.1571,.144,.1298,.1172,.1052,.0962,.0846,.0759,.0701,.0645,.0566,.0513,.0471]},{values:[1,1.10562,1.174991147,1.2045543000455001,1.2611656033055452,1.3260440516917642,1.378761173665061,1.4428634597030183,1.5051508390511679,1.572058456902587,1.648907621295077,1.7144097720696503,1.8078805533824691,1.889070054529098,1.9674935238661866,2.055257316789233,2.144729551568147,2.234580687178612,2.32185851241562,2.4054301537613854,2.4640944327071668],confidence:[[1,1],[1.02584,1.18514],[.9822058,1.3030693800000002],[.9852393742956,1.4318819329925],[.9881385771387834,1.5520633916544546],[1.0166769088984193,1.6642310895343768],[1.029129220789619,1.786720283120258],[1.0660403371048994,1.9164976530277813],[1.0996941046860318,2.0452360875268796],[1.1256158912696326,2.1863522319454525],[1.15657022507053,2.3198682347755524],[1.18890864111726,2.461933089909969],[1.217559119802038,2.636824019061447],[1.2584700588747686,2.8053005691861275],[1.3042412802469605,2.9768458749523674],[1.341377778865013,3.1367993399675593],[1.3917705094673969,3.349983982870108],[1.4424159079862977,3.5338144004757464],[1.4681422993081434,3.7006140146128095],[1.5184014651795945,3.8997868307072374],[1.5597759910852638,4.054401486525054]],pLoss:[0,.243,.2863,.2604,.2599,.2378,.2256,.2053,.1953,.1809,.1743,.1618,.1488,.1427,.1326,.1315,.1241,.1162,.1103,.102,.0972]}],e}])}(),function(){angular.module("app").factory("finlibBasic",["mathlibMath",function(e){var n={};return n.adjustTermToLowerFullPeriod=function(e,n){return Math.floor(e/(1/n))/n},n.adjustTermToHigherFullPeriod=function(e,n){return Math.ceil(e/(1/n))/n},n.q=function(e){return 1+e},n.qN=function(e,n){return Math.pow(basic.q(e),n)},n.qPeriod=function(e,n){return basic.q(e/n)},n.qPeriodN=function(e,n,t){return Math.pow(basic.qPeriod(e,n),t*n)},n.round=function(e,n){return 0>e?-Math.round(Math.abs(e)*Math.pow(10,n))/Math.pow(10,n):Math.round(e*Math.pow(10,n))/Math.pow(10,n)},n.pv=function(e,n,t){var a=0;if(t="undefined"!=typeof t?t:1,n&&Array.isArray(n[0]))n.forEach(function(n){a+=n[1]/Math.pow(1+e,n[0]/t)});else{if(!n||Array.isArray(n[0]))return;n.forEach(function(n,i){a+=n/Math.pow(1+e,(i+1)/t)})}return a},n.tvSubperiodsLinear=function(e,n,t,a){var i=Math.floor(t/(12/a))*(12/a);return e*Math.pow(1+n/a,i/(12/a))*(1+(t-i)/12*n)},n.tvInterestdaysSubperiodsLinear=function(e,n,t,a,i,r,o,s){if(r){var l,u,c,p,d=0,m=e,f=s;for(c=1;c<=Math.floor(a/(t/i));c++)u=m,m*=Math.pow(1+n*(1/i),1),l=Math.max(0,m-u-f)*o,f=Math.max(0,f-(m-u)),d+=l,m-=l,c%i===0&&(f=s);return u=m,m*=1+n*(a%(t/i))/t,l=Math.max(0,m-u-f)*o,d+=l,m-=l,{terminal:m,tax:-d}}return p=e*Math.pow(1+n*(1/i),Math.floor(a/(t/i)))*(1+n*(a%(t/i))/t),{terminal:p,tax:0}},n.sum=function(e,n){return e+n},n.annualpayments=function(e,n,t){t=t||12;var a=Array.apply(null,new Array(e)).map(Number.prototype.valueOf,0);return basic.round(n,2)>0&&a.forEach(function(e,i){i%t===0&&0!==i&&(a[i]=n)}),a},n.irr=function(t,a,i){var r;return i="undefined"!=typeof i?i:1,r=function(e){return t-n.pv(e,a,i)},e.roots(r,.05)},n}])}(),function(){angular.module("app").factory("finlibSavings",["finlibBasic","mathlibMath",function(e,n){var t={},a=e,i=n;return t.schedule=function(e){function n(e){var n=s(e,m.inflow,m.interest,m.term,m.dynamic,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix);return f.totalInflow=_.reduce(n[2],a.sum,0),f.totalInterest=_.reduce(n[3],a.sum,0)+f.interestResidual,m.terminal-n[4][n[4].length-1]-(m.compounding-1)*(f.totalInterest-f.interestResidual)-f.interestResidual}function t(e){var n=s(m.principal,e,m.interest,m.term,m.dynamic,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix);return f.totalInflow=_.reduce(n[2],a.sum,0),f.totalInterest=_.reduce(n[3],a.sum,0)+f.interestResidual,m.terminal-n[4][n[4].length-1]-(m.compounding-1)*(f.totalInterest-f.interestResidual)-f.interestResidual}function r(e){var n=s(m.principal,m.inflow,e,m.term,m.dynamic,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix);return f.totalInflow=_.reduce(n[2],a.sum,0),f.totalInterest=_.reduce(n[3],a.sum,0)+f.interestResidual,m.terminal-n[4][n[4].length-1]-(m.compounding-1)*(f.totalInterest-f.interestResidual)-f.interestResidual}function o(e){var n=s(m.principal,m.inflow,m.interest,m.term,e,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix);return f.totalInflow=_.reduce(n[2],a.sum,0),f.totalInterest=_.reduce(n[3],a.sum,0)+f.interestResidual,m.terminal-n[4][n[4].length-1]-(m.compounding-1)*(f.totalInterest-f.interestResidual)-f.interestResidual}var s,l,u,c,p,d,m=this,f={};if(m.dynamic=m.dynamic||0,m.inflowfreq=m.inflowfreq||12,m.interestfreq=m.interestfreq||1,m.compounding=m.compounding||1,m.inflowtime=m.inflowtime||1,m.termfix=m.termfix||0,s=function(e,n,t,a,i,r,o,s,l,u){var c=[];c[0]=[],c[1]=[],c[2]=[],c[3]=[],c[4]=[],c[5]=[],c[6]=[];var p,d,m,h=1,y=0;for(u=u||0,m=12*a,d=1,p=12*(a+u);p>=d;d++)c[0][h-1]=d,c[1][h-1]=1===h?e:c[4][h-2],d%(12/r)===0&&1===l&&m>=d||(d-1)%(12/r)===0&&2===l&&m>=d?c[2][h-1]=n:c[2][h-1]=0,y+=(c[1][h-1]+(l-1)*c[2][h-1])*(t/12),d%(12/o)===0?(c[3][h-1]=y,y=0):c[3][h-1]=0,c[4][h-1]=c[1][h-1]+c[2][h-1]+(2-s)*c[3][h-1],d%12===0&&(n*=1+i),h+=1;return f.interestResidual=y,c},1===m.mode)l=s(m.principal,m.inflow,m.interest,m.term,m.dynamic,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix),u=l[0].map(function(e,n){return l.map(function(e){return e[n]})});else if(2===m.mode){if(f.principal=i.roots(n,m.terminal/2),null===f.principal)return{error:"Leider ist bei der Bestimmung des Anfangskapitals ein Fehler aufgetreten. Dies kann zum Beispiel passieren, wenn das rechnerische Anfangskapital negativ ist. Bitte senken Sie die Sparrate, das Sparintervall, den Anspar- und/oder Anlagezeitraum."};l=s(f.principal,m.inflow,m.interest,m.term,m.dynamic,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix),u=l[0].map(function(e,n){return l.map(function(e){return e[n]})})}else if(3===m.mode){if(f.inflow=i.roots(t,m.principal/(5*m.inflowfreq)),null===f.inflow)return{error:"Leider ist bei der Bestimmung der Sparrate ein Fehler aufgetreten. Dies kann zum Beispiel passieren, wenn die rechnerische Sparrate negativ ist. Bitte überprüfen Sie die Eingaben."};l=s(m.principal,f.inflow,m.interest,m.term,m.dynamic,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix),u=l[0].map(function(e,n){return l.map(function(e){return e[n]})})}else if(4===m.mode);else if(5===m.mode){if(f.interest=i.roots(r,.05),null===f.interest)return{error:"Leider ist bei der Bestimmung des Zinssatzes ein Fehler aufgetreten. Dies kann zum Beispiel passieren, wenn der rechnerische Zinssatz negativ ist. Bitte überprüfen Sie die Eingaben."};l=s(m.principal,m.inflow,f.interest,m.term,m.dynamic,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix),u=l[0].map(function(e,n){return l.map(function(e){return e[n]})})}else if(6===m.mode){if(f.dynamic=i.roots(o,.05),null===f.dynamic)return{error:"Leider ist bei der Bestimmung der Dynamisierung ein Fehler aufgetreten. Dies kann zum Beispiel passieren, wenn die rechnerische Dynamisierung negativ ist. Bitte überprüfen Sie die Eingaben."};l=s(m.principal,m.inflow,m.interest,m.term,f.dynamic,m.inflowfreq,m.interestfreq,m.compounding,m.inflowtime,m.termfix),u=l[0].map(function(e,n){return l.map(function(e){return e[n]})})}return f.principal=l[1][0],f.totalInflow=_.reduce(l[2],a.sum,0),f.totalInterest=_.reduce(l[3],a.sum,0)+f.interestResidual,f.terminal=l[4][l[4].length-1]+(m.compounding-1)*(f.totalInterest-f.interestResidual)+f.interestResidual,c=1,p=1,d=0,l[0].forEach(function(e,n){e%12===0&&(u.splice(n+c,0,[e/12+". Jahr",l[1][n+1-p],_.reduce(l[2].slice(n+1-p,n+1),a.sum,0),_.reduce(l[3].slice(n+1-p,n+1),a.sum,0),l[4][n],!0,!1,!0]),c+=1,p=0),p+=1}),u[u.length-1][5]||u.push([Math.ceil(m.term+m.termfix)+". Jahr",l[1][l[1].length+1-p],_.reduce(l[2].slice(l[2].length+1-p,l[2].length),a.sum,0),_.reduce(l[3].slice(l[3].length+1-p,l[3].length),a.sum,0),l[4][l[4].length-1],!0,!1,!0]),0!==f.interestResidual&&u.push(["Aufgelaufene Zinsen",0,0,f.interestResidual,f.terminal,!1,!0]),u.push(["Summe",f.principal,f.totalInflow,f.totalInterest,f.terminal,!0]),{terminal:f.terminal,principal:f.principal,inflow:f.totalInflow,interest:f.totalInterest,schedule:u,inflowrate:m.inflow||f.inflow,interestrate:m.interest||f.interest,dynamic:m.dynamic||f.dynamic}},t}])}(),function(){angular.module("app").factory("mathlibMath",[function(){var e={};return e.roots=function(e,n,t,a,i){var r,o,i=i||1e-6,s=n||0,t=t||1500,a=a||1e-7,l=0,u=function(n){return(e(n+i)-e(n))/i};do if(r=e(s),o=s-r/u(s),s=o,l++,l>t)return console.log("No convergence"),null;while(Math.abs(r)>a);return s},e.transpose=function(e){return e[0].map(function(n,t){return e.map(function(e){return e[t]})})},e}])}(),function(){angular.module("app").filter("parentheses",[function(){return function(e){return"-"===e.charAt(0)?"("+e.substr(1)+")":e}}])}(),angular.module("app").directive("sfSelect",[function(){return{restrict:"E",templateUrl:"/app/shared/inputs/select/sfSelectTemplate.html",scope:{value:"=",description:"@",id:"@",tip:"@",options:"@"},link:function(e,n,t){n.find("label").tooltip({title:e.tip,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})}}}]),angular.module("app").directive("sfSlider",[function(){return{restrict:"E",templateUrl:"/app/shared/inputs/slider/sfSliderTemplate.html",scope:{value:"=",type:"@",fun:"&",description:"@",id:"@",addon:"@",tip:"@",overwriteOptions:"@options"},controller:["$scope",function(e){e.options={floor:0,ceil:1e4,step:1,precision:1,secondaddon:" €"},angular.extend(e.options,JSON.parse(e.overwriteOptions)),e.sliderTranslate=function(e){return""}}],link:function(e,n,t){n.find("label").tooltip({title:e.tip,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})}}}]);